(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{22:function(e,t,a){e.exports={Button:"Button_Button__33eql"}},24:function(e,t,a){e.exports={loader:"Loader_loader__2i2s2"}},25:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2XU-J"}},26:function(e,t,a){e.exports=a(69)},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),l=a.n(o),c=a(10),i=a(3),u=a(4),s=a(5),m=a(6),h=a(21),p=a.n(h),d="15793590-6533eb8de74aa3303fcd7b1b8",g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1";return p.a.get("https://pixabay.com/api/?"+"q=".concat(e,"&page=").concat(t,"&key=")+d+"&image_type=photo&orientation=horizontal&per_page=12")},f=a(1),y=a.n(f),b=a(8),v=a.n(b),S=function(e){var t=e.img,a=e.onGetFullUrl;return r.a.createElement("li",{className:v.a.ImageGalleryItem},r.a.createElement("img",{src:t.previewURL,alt:t.id,className:v.a.ImageGalleryItemImage,onClick:a}))};S.ptopTypes={img:y.a.object.isRequired,onGetFullUrl:y.a.func.isRequired};var _=S,I=a(22),E=a.n(I),O=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.onLoadMoreIMG;return r.a.createElement("button",{type:"button",className:E.a.Button,onClick:e},"Load more")}}]),a}(n.Component),C=a(23),M=a.n(C),F=a(24),G=a.n(F),L=function(){return r.a.createElement(M.a,{className:G.a.loader,type:"ThreeDots",color:"#3f51b5",height:100,width:100,timeout:3e3})},j=a(25),w=a.n(j),k=function(e){var t=e.imgArray,a=e.onGetFullUrl,n=e.loadMoreIMG,o=e.isLoading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:w.a.ImageGallery},t.map((function(e){return r.a.createElement(_,{key:e.id,img:e,onGetFullUrl:function(){return a(e.largeImageURL)}})}))),o&&r.a.createElement(L,null),r.a.createElement(O,{onLoadMoreIMG:n}))},U=a(7),N=a.n(U),A=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.handleChange=function(t){e.setState({value:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.value;(0,e.props.onSubmit)(a),e.setState({value:""})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state.value;return r.a.createElement("header",{className:N.a.Searchbar},r.a.createElement("form",{className:N.a.SearchForm,onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:N.a.SearchFormButton},r.a.createElement("span",{className:N.a.SearchFormButtonLabel},"Search")),r.a.createElement("input",{className:N.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.handleChange})))}}]),a}(n.Component),B=a(9),q=a.n(B),x=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e.closeOnEscape=function(t){"Escape"===t.code&&(0,e.props.onClose)()},e.handelCloseModal=function(t){t.target===t.currentTarget&&(0,e.props.onClose)()},e}return Object(u.a)(a,[{key:"componentWillMount",value:function(){window.addEventListener("keydown",this.closeOnEscape)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeOnEscape)}},{key:"render",value:function(){var e=this.props.src;return r.a.createElement("div",{className:q.a.Overlay,onClick:this.handelCloseModal},r.a.createElement("div",{className:q.a.Modal},r.a.createElement("img",{src:e,alt:""})))}}]),a}(n.Component),R=function(e){Object(m.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isModalOpen:!1,imgArray:[],query:"",pageCounter:1,fullURL:"",isLoading:!1},e.onSearch=function(){var t=document.documentElement.scrollHeight;e.setState({isLoading:!0}),g(e.state.query,e.state.pageCounter).then((function(t){var a=t.data;e.setState({imgArray:[].concat(Object(c.a)(e.state.imgArray),Object(c.a)(a.hits))})})).catch((function(e){console.log(e)})).finally((function(){window.scrollTo({top:t,behavior:"smooth"}),e.setState({isLoading:!1})}))},e.openModal=function(){e.setState({isModalOpen:!0})},e.closeModal=function(){e.setState({isModalOpen:!1})},e.handelFullUrl=function(t){e.setState({fullURL:t,isModalOpen:!0})},e.onFormSubmit=function(t){e.setState({query:t,imgArray:[],pageCounter:1})},e.handelPageCounter=function(){e.setState({pageCounter:e.state.pageCounter+1})},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.pageCounter===this.state.pageCounter&&t.query===this.state.query||this.onSearch()}},{key:"render",value:function(){var e=this.state,t=e.isModalOpen,a=e.imgArray,n=e.fullURL,o=e.isLoading;return r.a.createElement("div",{className:"App"},r.a.createElement(A,{onSubmit:this.onFormSubmit}),a.length>0&&r.a.createElement(k,{imgArray:a,onGetFullUrl:this.handelFullUrl,loadMoreIMG:this.handelPageCounter,isLoading:o}),t&&r.a.createElement(x,{src:n,onClose:this.closeModal}))}}]),a}(n.Component);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(R,null)),document.getElementById("root"))},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2n0kQ",SearchForm:"Searchbar_SearchForm__1Tmlh",SearchFormButton:"Searchbar_SearchFormButton__1u3x-",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2eYD6",SearchFormInput:"Searchbar_SearchFormInput__1ZFn3"}},8:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__ycX78",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__23qNw"}},9:function(e,t,a){e.exports={Overlay:"Modal_Overlay__b1Tlt",Modal:"Modal_Modal__3PLcQ"}}},[[26,1,2]]]);
//# sourceMappingURL=main.8d398c20.chunk.js.map